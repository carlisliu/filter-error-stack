var FS=function(t){function r(t,r,n){if(!t)return u.error("target is null");if(!r)return u.error("method is null");if("function"!=typeof n)return u.error("wrapper must be a function");var e=t[r];if(!e)return u.error("original "+r+" is null");var o=n(e);t[r]=o}function n(){return+new Date}function e(t,r){if(i&&i.sendBeacon)return r=JSON&&JSON.stringify?JSON.stringify(r):r.toString(),u.debug("sending data(%s) to %s",r,t),i.sendBeacon(t,r);u.error("no beancon",r)}var o=t.XMLHttpRequest&&t.XMLHttpRequest.prototype,i=t.navigator,a=t.setTimeout,u=t.console;return function(t){var i=(t=t||{}).backend||"http://5lym.com";r(o,"open",function(t){return function(r,n){var e;return(e=this._store)||(e=this._store={}),e.method=r,e.url=n,t.apply(this,arguments)}}),r(o,"send",function(t){return function(o){var u=this;return u._store.dataType=typeof o,a(function(){u.onreadystatechange&&r(u,"onreadystatechange",function(t){return function(){var r=this._store;try{var o,u;4==this.readyState&&200==this.status&&(o=n());var s=t.apply(this,arguments);return 4==this.readyState&&200==this.status&&(u=n(),r.callback=u-o,a(function(){e(i,r)},0)),s}catch(c){throw r.error=c,a(function(){e(i,r)},0),c}}})},0),t.apply(this,arguments)}})}}(window);